import { insertDocumentsBatch } from './db.js';
import { getEmbeddingsBatch } from './embeddings.js';
import chalk from 'chalk';

const SAMPLE_TEXTS = [
  // 技術系
  "Node.jsは非同期I/Oをサポートし、スケーラブルなネットワークアプリケーションの構築を可能にするJavaScriptランタイムです。イベント駆動型のアーキテクチャを採用しており、高いパフォーマンスを実現します。",
  "機械学習は人工知能の一分野で、コンピュータに明示的にプログラムすることなく学習する能力を与えます。ディープラーニングは機械学習の手法の一つです。",
  "SQLiteは軽量で高速なデータベースエンジンです。サーバーレスで動作し、単一のファイルにデータを保存します。組み込みシステムやモバイルアプリケーションで広く使用されています。",
  "ベクトル検索は、高次元空間における類似性を計算する技術です。テキストや画像などを数値ベクトルに変換し、コサイン類似度などの指標で関連性を評価します。",
  "TypeScriptはJavaScriptに静的型付けを追加したプログラミング言語です。大規模なアプリケーション開発において、型安全性を提供します。",
  
  // 日本文学風
  "春の日差しが窓から差し込み、部屋の中を暖かく照らしていた。桜の花びらが風に舞い、まるで雪のように見える。この季節になると、いつも故郷のことを思い出す。",
  "東京の街は常に変化し続けている。高層ビルが立ち並び、人々は忙しそうに歩いている。しかし、路地裏には昔ながらの風景が残っている。",
  "雨の音が静かに響いている。本を読みながら、コーヒーを飲む。こんな穏やかな時間が好きだ。外の世界から切り離されたような感覚。",
  "夏の夜、蝉の声が響き渡る。子供たちは花火で遊び、大人たちは縁側で涼んでいる。日本の夏の風物詩だ。",
  "秋になると、山々は紅葉で彩られる。観光客が増え、静かだった町も賑やかになる。季節の変化を感じる瞬間。",
  
  // 科学・自然
  "地球は太陽系の第三惑星で、生命が存在する唯一の惑星として知られています。大気、水、適切な温度が生命を支えています。",
  "光合成は植物が太陽光を利用して二酸化炭素と水から有機物を作り出すプロセスです。このプロセスは地球上の生命にとって不可欠です。",
  "人工知能の発展により、私たちの生活は大きく変わりつつあります。自動運転車、音声アシスタント、画像認識など、様々な分野で応用されています。",
  "量子コンピュータは従来のコンピュータとは異なる原理で動作します。量子の重ね合わせと量子もつれを利用し、特定の問題を高速に解くことができます。",
  "宇宙は約138億年前にビッグバンから始まったと考えられています。現在も膨張を続けており、その大きさは観測可能な範囲だけでも約930億光年に及びます。",
  
  // ビジネス・経済
  "デジタルトランスフォーメーションは企業が競争力を維持するために不可欠です。テクノロジーを活用してビジネスモデルを変革し、顧客体験を向上させます。",
  "サステナビリティは現代のビジネスにおいて重要な概念です。環境、社会、経済の三つの側面でバランスを取りながら、持続可能な成長を目指します。",
  "グローバル化により、世界中の市場がつながっています。企業は国境を越えて事業を展開し、文化や言語の違いを乗り越える必要があります。",
  "イノベーションは企業の成長の原動力です。新しいアイデアや技術を開発し、市場に新しい価値を提供することが求められています。",
  "リモートワークの普及により、働き方が大きく変化しました。オフィスに通勤する必要がなくなり、ワークライフバランスが改善されています。",
  
  // 料理・グルメ
  "日本料理は季節の食材を大切にし、素材の味を活かすことを重視します。出汁の文化が発達し、繊細な味わいが特徴です。",
  "イタリア料理はパスタやピザで有名ですが、地域によって特色があります。新鮮な食材とオリーブオイルが料理の基本です。",
  "フランス料理は世界三大料理の一つとして知られ、ソースの技術が発達しています。見た目の美しさも重要視されます。",
  "中華料理は広大な中国の各地域で独自に発展しました。四川料理の辛さ、広東料理の点心など、多様性に富んでいます。",
  "発酵食品は健康に良いとされ、世界中で注目されています。日本の味噌や納豆、韓国のキムチ、ヨーロッパのチーズなど、各地に独自の発酵文化があります。"
];

export async function loadSampleData() {
  console.log(chalk.blue('Loading sample data into database...'));
  
  console.log(chalk.blue('Generating embeddings for sample texts...'));
  const embeddings = await getEmbeddingsBatch(SAMPLE_TEXTS, 10);
  
  const documents = SAMPLE_TEXTS.map((text, i) => ({
    text: text,
    embedding: embeddings[i]
  }));
  
  console.log(chalk.blue('Inserting into database...'));
  const ids = insertDocumentsBatch(documents);
  
  console.log(chalk.green(`✓ Successfully loaded ${ids.length} sample documents`));
  return ids;
}