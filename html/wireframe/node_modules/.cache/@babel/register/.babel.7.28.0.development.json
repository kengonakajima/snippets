{"{\"assumptions\":{},\"sourceRoot\":\"/Users/ringo/snippets/html/wireframe/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/ringo/snippets/html/wireframe\",\"filename\":\"/Users/ringo/snippets/html/wireframe/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/ringo/snippets/html/wireframe\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]}],\"presets\":[]}:7.28.0:development":{"value":{"code":"#!/usr/bin/env node\nconst React = require('react');\nconst {\n  useState,\n  useEffect\n} = React;\nconst {\n  render,\n  Box,\n  Text,\n  useInput,\n  useApp\n} = require('ink');\nconst CANVAS_WIDTH = 80;\nconst CANVAS_HEIGHT = 24;\nconst WireframeTool = () => {\n  const {\n    exit\n  } = useApp();\n  const [cursor, setCursor] = useState({\n    x: 0,\n    y: 0\n  });\n  const [canvas, setCanvas] = useState(() => {\n    return Array(CANVAS_HEIGHT).fill(null).map(() => Array(CANVAS_WIDTH).fill(' '));\n  });\n  const [mode, setMode] = useState('draw'); // draw, select, button, icon, interact\n  const [selectedElement, setSelectedElement] = useState(null);\n  const [elements, setElements] = useState([]);\n  const [drawing, setDrawing] = useState(false);\n  const [interactions, setInteractions] = useState({});\n  const [simulationMode, setSimulationMode] = useState(false);\n  const [message, setMessage] = useState('');\n  useInput((input, key) => {\n    if (input === 'q') {\n      exit();\n    }\n    if (key.escape) {\n      setMode('draw');\n      setSelectedElement(null);\n      setSimulationMode(false);\n    }\n\n    // モード切り替え\n    if (!simulationMode) {\n      if (input === 'd') setMode('draw');\n      if (input === 'b') setMode('button');\n      if (input === 'i') setMode('icon');\n      if (input === 's') setMode('select');\n      if (input === 'n') setMode('interact');\n      if (input === 'p') setSimulationMode(true);\n    }\n\n    // カーソル移動\n    if (key.upArrow && cursor.y > 0) {\n      setCursor(prev => ({\n        ...prev,\n        y: prev.y - 1\n      }));\n    }\n    if (key.downArrow && cursor.y < CANVAS_HEIGHT - 1) {\n      setCursor(prev => ({\n        ...prev,\n        y: prev.y + 1\n      }));\n    }\n    if (key.leftArrow && cursor.x > 0) {\n      setCursor(prev => ({\n        ...prev,\n        x: prev.x - 1\n      }));\n    }\n    if (key.rightArrow && cursor.x < CANVAS_WIDTH - 1) {\n      setCursor(prev => ({\n        ...prev,\n        x: prev.x + 1\n      }));\n    }\n\n    // 描画モード\n    if (mode === 'draw' && !simulationMode) {\n      if (input === ' ') {\n        setDrawing(prev => !prev);\n      }\n      if (drawing || input === '*') {\n        setCanvas(prev => {\n          const newCanvas = prev.map(row => [...row]);\n          newCanvas[cursor.y][cursor.x] = '*';\n          return newCanvas;\n        });\n      }\n      if (input === 'c') {\n        // クリア\n        setCanvas(Array(CANVAS_HEIGHT).fill(null).map(() => Array(CANVAS_WIDTH).fill(' ')));\n        setElements([]);\n        setInteractions({});\n      }\n    }\n\n    // ボタン配置モード\n    if (mode === 'button' && key.return && !simulationMode) {\n      const button = {\n        type: 'button',\n        x: cursor.x,\n        y: cursor.y,\n        width: 10,\n        height: 3,\n        text: 'Button',\n        id: Date.now()\n      };\n      setElements(prev => [...prev, button]);\n      drawElement(button);\n    }\n\n    // アイコン配置モード\n    if (mode === 'icon' && key.return && !simulationMode) {\n      const icon = {\n        type: 'icon',\n        x: cursor.x,\n        y: cursor.y,\n        symbol: '◆',\n        id: Date.now()\n      };\n      setElements(prev => [...prev, icon]);\n      drawElement(icon);\n    }\n\n    // 選択モード\n    if (mode === 'select' && !simulationMode) {\n      const element = findElementAtCursor();\n      if (key.return && element) {\n        setSelectedElement(element);\n      }\n    }\n\n    // インタラクション定義モード\n    if (mode === 'interact' && selectedElement && !simulationMode) {\n      if (input === '1') {\n        // クリック時のメッセージ\n        const action = prompt('Enter message for click action:') || 'Clicked!';\n        setInteractions(prev => ({\n          ...prev,\n          [selectedElement.id]: {\n            type: 'message',\n            action\n          }\n        }));\n        setMessage(`Interaction added to ${selectedElement.type}`);\n      }\n      if (input === '2') {\n        // ページ遷移\n        const target = prompt('Enter target page:') || 'page2';\n        setInteractions(prev => ({\n          ...prev,\n          [selectedElement.id]: {\n            type: 'navigate',\n            target\n          }\n        }));\n        setMessage(`Navigation added to ${selectedElement.type}`);\n      }\n    }\n\n    // シミュレーションモード\n    if (simulationMode) {\n      const element = findElementAtCursor();\n      if (key.return && element && interactions[element.id]) {\n        const interaction = interactions[element.id];\n        if (interaction.type === 'message') {\n          setMessage(`Action: ${interaction.action}`);\n        } else if (interaction.type === 'navigate') {\n          setMessage(`Navigate to: ${interaction.target}`);\n        }\n      }\n    }\n  });\n  const findElementAtCursor = () => {\n    return elements.find(el => {\n      if (el.type === 'button') {\n        return cursor.x >= el.x && cursor.x < el.x + el.width && cursor.y >= el.y && cursor.y < el.y + el.height;\n      }\n      if (el.type === 'icon') {\n        return cursor.x === el.x && cursor.y === el.y;\n      }\n      return false;\n    });\n  };\n  const drawElement = element => {\n    setCanvas(prev => {\n      const newCanvas = prev.map(row => [...row]);\n      if (element.type === 'button') {\n        // ボタンの枠を描画\n        for (let i = 0; i < element.width; i++) {\n          if (element.y >= 0 && element.y < CANVAS_HEIGHT) {\n            if (element.x + i < CANVAS_WIDTH) {\n              newCanvas[element.y][element.x + i] = '─';\n            }\n          }\n          if (element.y + element.height - 1 >= 0 && element.y + element.height - 1 < CANVAS_HEIGHT) {\n            if (element.x + i < CANVAS_WIDTH) {\n              newCanvas[element.y + element.height - 1][element.x + i] = '─';\n            }\n          }\n        }\n        for (let i = 0; i < element.height; i++) {\n          if (element.y + i >= 0 && element.y + i < CANVAS_HEIGHT) {\n            if (element.x < CANVAS_WIDTH) {\n              newCanvas[element.y + i][element.x] = '│';\n            }\n            if (element.x + element.width - 1 < CANVAS_WIDTH) {\n              newCanvas[element.y + i][element.x + element.width - 1] = '│';\n            }\n          }\n        }\n        // 角\n        if (element.y >= 0 && element.y < CANVAS_HEIGHT && element.x < CANVAS_WIDTH) {\n          newCanvas[element.y][element.x] = '┌';\n        }\n        if (element.y >= 0 && element.y < CANVAS_HEIGHT && element.x + element.width - 1 < CANVAS_WIDTH) {\n          newCanvas[element.y][element.x + element.width - 1] = '┐';\n        }\n        if (element.y + element.height - 1 >= 0 && element.y + element.height - 1 < CANVAS_HEIGHT && element.x < CANVAS_WIDTH) {\n          newCanvas[element.y + element.height - 1][element.x] = '└';\n        }\n        if (element.y + element.height - 1 >= 0 && element.y + element.height - 1 < CANVAS_HEIGHT && element.x + element.width - 1 < CANVAS_WIDTH) {\n          newCanvas[element.y + element.height - 1][element.x + element.width - 1] = '┘';\n        }\n        // テキスト\n        const textY = element.y + Math.floor(element.height / 2);\n        const textX = element.x + Math.floor((element.width - element.text.length) / 2);\n        for (let i = 0; i < element.text.length; i++) {\n          if (textY >= 0 && textY < CANVAS_HEIGHT && textX + i < CANVAS_WIDTH) {\n            newCanvas[textY][textX + i] = element.text[i];\n          }\n        }\n      } else if (element.type === 'icon') {\n        if (element.y >= 0 && element.y < CANVAS_HEIGHT && element.x < CANVAS_WIDTH) {\n          newCanvas[element.y][element.x] = element.symbol;\n        }\n      }\n      return newCanvas;\n    });\n  };\n\n  // 要素の再描画\n  useEffect(() => {\n    // キャンバスをクリアして全要素を再描画\n    const newCanvas = Array(CANVAS_HEIGHT).fill(null).map(() => Array(CANVAS_WIDTH).fill(' '));\n    setCanvas(newCanvas);\n\n    // 全要素を再描画\n    elements.forEach(element => {\n      drawElement(element);\n    });\n  }, [elements]);\n\n  // メッセージを3秒後にクリア\n  useEffect(() => {\n    if (message) {\n      const timer = setTimeout(() => {\n        setMessage('');\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [message]);\n  return /*#__PURE__*/React.createElement(Box, {\n    flexDirection: \"column\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    marginBottom: 1\n  }, /*#__PURE__*/React.createElement(Text, null, \"Wireframe Tool - Mode: \", simulationMode ? 'SIMULATION' : mode, \" |\", selectedElement && /*#__PURE__*/React.createElement(Text, null, \" Selected: \", selectedElement.type, \" (ID: \", selectedElement.id, \")\"))), /*#__PURE__*/React.createElement(Box, {\n    marginBottom: 1\n  }, /*#__PURE__*/React.createElement(Text, null, \"Controls: Arrows (move), Space (draw), D/B/I/S/N (modes), P (simulate), C (clear), Q (quit)\"), mode === 'interact' && selectedElement && /*#__PURE__*/React.createElement(Text, null, \" | Press 1 (message) or 2 (navigate) to add interaction\")), /*#__PURE__*/React.createElement(Box, {\n    borderStyle: \"single\",\n    width: CANVAS_WIDTH + 2,\n    height: CANVAS_HEIGHT + 2\n  }, /*#__PURE__*/React.createElement(Box, {\n    flexDirection: \"column\"\n  }, canvas.map((row, y) => /*#__PURE__*/React.createElement(Box, {\n    key: y\n  }, /*#__PURE__*/React.createElement(Text, null, row.map((cell, x) => {\n    const isSelected = selectedElement && (selectedElement.type === 'button' && x >= selectedElement.x && x < selectedElement.x + selectedElement.width && y >= selectedElement.y && y < selectedElement.y + selectedElement.height || selectedElement.type === 'icon' && x === selectedElement.x && y === selectedElement.y);\n    if (x === cursor.x && y === cursor.y) {\n      return /*#__PURE__*/React.createElement(Text, {\n        key: x,\n        inverse: true\n      }, cell);\n    } else if (isSelected) {\n      return /*#__PURE__*/React.createElement(Text, {\n        key: x,\n        color: \"green\"\n      }, cell);\n    }\n    return cell;\n  }).join('')))))), /*#__PURE__*/React.createElement(Box, {\n    marginTop: 1\n  }, /*#__PURE__*/React.createElement(Text, null, \"Cursor: (\", cursor.x, \", \", cursor.y, \") | Drawing: \", drawing ? 'ON' : 'OFF'), message && /*#__PURE__*/React.createElement(Text, {\n    color: \"yellow\"\n  }, \" | \", message)));\n};\n\n// 簡易的なプロンプト実装（実際のReact Inkでは別の方法が必要）\nconst prompt = message => {\n  // 実際の実装では、別のUIコンポーネントや状態管理が必要\n  return 'example';\n};\nrender(/*#__PURE__*/React.createElement(WireframeTool, null));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInJlbmRlciIsIkJveCIsIlRleHQiLCJ1c2VJbnB1dCIsInVzZUFwcCIsIkNBTlZBU19XSURUSCIsIkNBTlZBU19IRUlHSFQiLCJXaXJlZnJhbWVUb29sIiwiZXhpdCIsImN1cnNvciIsInNldEN1cnNvciIsIngiLCJ5IiwiY2FudmFzIiwic2V0Q2FudmFzIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwibW9kZSIsInNldE1vZGUiLCJzZWxlY3RlZEVsZW1lbnQiLCJzZXRTZWxlY3RlZEVsZW1lbnQiLCJlbGVtZW50cyIsInNldEVsZW1lbnRzIiwiZHJhd2luZyIsInNldERyYXdpbmciLCJpbnRlcmFjdGlvbnMiLCJzZXRJbnRlcmFjdGlvbnMiLCJzaW11bGF0aW9uTW9kZSIsInNldFNpbXVsYXRpb25Nb2RlIiwibWVzc2FnZSIsInNldE1lc3NhZ2UiLCJpbnB1dCIsImtleSIsImVzY2FwZSIsInVwQXJyb3ciLCJwcmV2IiwiZG93bkFycm93IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsIm5ld0NhbnZhcyIsInJvdyIsInJldHVybiIsImJ1dHRvbiIsInR5cGUiLCJ3aWR0aCIsImhlaWdodCIsInRleHQiLCJpZCIsIkRhdGUiLCJub3ciLCJkcmF3RWxlbWVudCIsImljb24iLCJzeW1ib2wiLCJlbGVtZW50IiwiZmluZEVsZW1lbnRBdEN1cnNvciIsImFjdGlvbiIsInByb21wdCIsInRhcmdldCIsImludGVyYWN0aW9uIiwiZmluZCIsImVsIiwiaSIsInRleHRZIiwiTWF0aCIsImZsb29yIiwidGV4dFgiLCJsZW5ndGgiLCJmb3JFYWNoIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3JlYXRlRWxlbWVudCIsImZsZXhEaXJlY3Rpb24iLCJtYXJnaW5Cb3R0b20iLCJib3JkZXJTdHlsZSIsImNlbGwiLCJpc1NlbGVjdGVkIiwiaW52ZXJzZSIsImNvbG9yIiwiam9pbiIsIm1hcmdpblRvcCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3JpbmdvL3NuaXBwZXRzL2h0bWwvd2lyZWZyYW1lLyIsInNvdXJjZXMiOlsiYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiMhL3Vzci9iaW4vZW52IG5vZGVcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9ID0gUmVhY3Q7XG5jb25zdCB7IHJlbmRlciwgQm94LCBUZXh0LCB1c2VJbnB1dCwgdXNlQXBwIH0gPSByZXF1aXJlKCdpbmsnKTtcblxuY29uc3QgQ0FOVkFTX1dJRFRIID0gODA7XG5jb25zdCBDQU5WQVNfSEVJR0hUID0gMjQ7XG5cbmNvbnN0IFdpcmVmcmFtZVRvb2wgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBleGl0IH0gPSB1c2VBcHAoKTtcbiAgICBcbiAgICBjb25zdCBbY3Vyc29yLCBzZXRDdXJzb3JdID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xuICAgIGNvbnN0IFtjYW52YXMsIHNldENhbnZhc10gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgIHJldHVybiBBcnJheShDQU5WQVNfSEVJR0hUKS5maWxsKG51bGwpLm1hcCgoKSA9PiBcbiAgICAgICAgICAgIEFycmF5KENBTlZBU19XSURUSCkuZmlsbCgnICcpXG4gICAgICAgICk7XG4gICAgfSk7XG4gICAgY29uc3QgW21vZGUsIHNldE1vZGVdID0gdXNlU3RhdGUoJ2RyYXcnKTsgLy8gZHJhdywgc2VsZWN0LCBidXR0b24sIGljb24sIGludGVyYWN0XG4gICAgY29uc3QgW3NlbGVjdGVkRWxlbWVudCwgc2V0U2VsZWN0ZWRFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtlbGVtZW50cywgc2V0RWxlbWVudHNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtkcmF3aW5nLCBzZXREcmF3aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaW50ZXJhY3Rpb25zLCBzZXRJbnRlcmFjdGlvbnNdID0gdXNlU3RhdGUoe30pO1xuICAgIGNvbnN0IFtzaW11bGF0aW9uTW9kZSwgc2V0U2ltdWxhdGlvbk1vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcblxuICAgIHVzZUlucHV0KChpbnB1dCwga2V5KSA9PiB7XG4gICAgICAgIGlmIChpbnB1dCA9PT0gJ3EnKSB7XG4gICAgICAgICAgICBleGl0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5LmVzY2FwZSkge1xuICAgICAgICAgICAgc2V0TW9kZSgnZHJhdycpO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRFbGVtZW50KG51bGwpO1xuICAgICAgICAgICAgc2V0U2ltdWxhdGlvbk1vZGUoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g44Oi44O844OJ5YiH44KK5pu/44GIXG4gICAgICAgIGlmICghc2ltdWxhdGlvbk1vZGUpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gJ2QnKSBzZXRNb2RlKCdkcmF3Jyk7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09ICdiJykgc2V0TW9kZSgnYnV0dG9uJyk7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09ICdpJykgc2V0TW9kZSgnaWNvbicpO1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSAncycpIHNldE1vZGUoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSAnbicpIHNldE1vZGUoJ2ludGVyYWN0Jyk7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09ICdwJykgc2V0U2ltdWxhdGlvbk1vZGUodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDjgqvjg7zjgr3jg6vnp7vli5VcbiAgICAgICAgaWYgKGtleS51cEFycm93ICYmIGN1cnNvci55ID4gMCkge1xuICAgICAgICAgICAgc2V0Q3Vyc29yKHByZXYgPT4gKHsgLi4ucHJldiwgeTogcHJldi55IC0gMSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleS5kb3duQXJyb3cgJiYgY3Vyc29yLnkgPCBDQU5WQVNfSEVJR0hUIC0gMSkge1xuICAgICAgICAgICAgc2V0Q3Vyc29yKHByZXYgPT4gKHsgLi4ucHJldiwgeTogcHJldi55ICsgMSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleS5sZWZ0QXJyb3cgJiYgY3Vyc29yLnggPiAwKSB7XG4gICAgICAgICAgICBzZXRDdXJzb3IocHJldiA9PiAoeyAuLi5wcmV2LCB4OiBwcmV2LnggLSAxIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5LnJpZ2h0QXJyb3cgJiYgY3Vyc29yLnggPCBDQU5WQVNfV0lEVEggLSAxKSB7XG4gICAgICAgICAgICBzZXRDdXJzb3IocHJldiA9PiAoeyAuLi5wcmV2LCB4OiBwcmV2LnggKyAxIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOaPj+eUu+ODouODvOODiVxuICAgICAgICBpZiAobW9kZSA9PT0gJ2RyYXcnICYmICFzaW11bGF0aW9uTW9kZSkge1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICBzZXREcmF3aW5nKHByZXYgPT4gIXByZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRyYXdpbmcgfHwgaW5wdXQgPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHNldENhbnZhcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2FudmFzID0gcHJldi5tYXAocm93ID0+IFsuLi5yb3ddKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FudmFzW2N1cnNvci55XVtjdXJzb3IueF0gPSAnKic7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdDYW52YXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09ICdjJykge1xuICAgICAgICAgICAgICAgIC8vIOOCr+ODquOColxuICAgICAgICAgICAgICAgIHNldENhbnZhcyhBcnJheShDQU5WQVNfSEVJR0hUKS5maWxsKG51bGwpLm1hcCgoKSA9PiBcbiAgICAgICAgICAgICAgICAgICAgQXJyYXkoQ0FOVkFTX1dJRFRIKS5maWxsKCcgJylcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICBzZXRFbGVtZW50cyhbXSk7XG4gICAgICAgICAgICAgICAgc2V0SW50ZXJhY3Rpb25zKHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOODnOOCv+ODs+mFjee9ruODouODvOODiVxuICAgICAgICBpZiAobW9kZSA9PT0gJ2J1dHRvbicgJiYga2V5LnJldHVybiAmJiAhc2ltdWxhdGlvbk1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICB4OiBjdXJzb3IueCxcbiAgICAgICAgICAgICAgICB5OiBjdXJzb3IueSxcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzLFxuICAgICAgICAgICAgICAgIHRleHQ6ICdCdXR0b24nLFxuICAgICAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2V0RWxlbWVudHMocHJldiA9PiBbLi4ucHJldiwgYnV0dG9uXSk7XG4gICAgICAgICAgICBkcmF3RWxlbWVudChidXR0b24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g44Ki44Kk44Kz44Oz6YWN572u44Oi44O844OJXG4gICAgICAgIGlmIChtb2RlID09PSAnaWNvbicgJiYga2V5LnJldHVybiAmJiAhc2ltdWxhdGlvbk1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGljb24gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2ljb24nLFxuICAgICAgICAgICAgICAgIHg6IGN1cnNvci54LFxuICAgICAgICAgICAgICAgIHk6IGN1cnNvci55LFxuICAgICAgICAgICAgICAgIHN5bWJvbDogJ+KXhicsXG4gICAgICAgICAgICAgICAgaWQ6IERhdGUubm93KClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRFbGVtZW50cyhwcmV2ID0+IFsuLi5wcmV2LCBpY29uXSk7XG4gICAgICAgICAgICBkcmF3RWxlbWVudChpY29uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOmBuOaKnuODouODvOODiVxuICAgICAgICBpZiAobW9kZSA9PT0gJ3NlbGVjdCcgJiYgIXNpbXVsYXRpb25Nb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZmluZEVsZW1lbnRBdEN1cnNvcigpO1xuICAgICAgICAgICAgaWYgKGtleS5yZXR1cm4gJiYgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOOCpOODs+OCv+ODqeOCr+OCt+ODp+ODs+Wumue+qeODouODvOODiVxuICAgICAgICBpZiAobW9kZSA9PT0gJ2ludGVyYWN0JyAmJiBzZWxlY3RlZEVsZW1lbnQgJiYgIXNpbXVsYXRpb25Nb2RlKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09ICcxJykge1xuICAgICAgICAgICAgICAgIC8vIOOCr+ODquODg+OCr+aZguOBruODoeODg+OCu+ODvOOCuFxuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHByb21wdCgnRW50ZXIgbWVzc2FnZSBmb3IgY2xpY2sgYWN0aW9uOicpIHx8ICdDbGlja2VkISc7XG4gICAgICAgICAgICAgICAgc2V0SW50ZXJhY3Rpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkRWxlbWVudC5pZF06IHsgdHlwZTogJ21lc3NhZ2UnLCBhY3Rpb24gfVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBzZXRNZXNzYWdlKGBJbnRlcmFjdGlvbiBhZGRlZCB0byAke3NlbGVjdGVkRWxlbWVudC50eXBlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlucHV0ID09PSAnMicpIHtcbiAgICAgICAgICAgICAgICAvLyDjg5rjg7zjgrjpgbfnp7tcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBwcm9tcHQoJ0VudGVyIHRhcmdldCBwYWdlOicpIHx8ICdwYWdlMic7XG4gICAgICAgICAgICAgICAgc2V0SW50ZXJhY3Rpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkRWxlbWVudC5pZF06IHsgdHlwZTogJ25hdmlnYXRlJywgdGFyZ2V0IH1cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgc2V0TWVzc2FnZShgTmF2aWdhdGlvbiBhZGRlZCB0byAke3NlbGVjdGVkRWxlbWVudC50eXBlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g44K344Of44Ol44Os44O844K344On44Oz44Oi44O844OJXG4gICAgICAgIGlmIChzaW11bGF0aW9uTW9kZSkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGZpbmRFbGVtZW50QXRDdXJzb3IoKTtcbiAgICAgICAgICAgIGlmIChrZXkucmV0dXJuICYmIGVsZW1lbnQgJiYgaW50ZXJhY3Rpb25zW2VsZW1lbnQuaWRdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvbnNbZWxlbWVudC5pZF07XG4gICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlKGBBY3Rpb246ICR7aW50ZXJhY3Rpb24uYWN0aW9ufWApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW50ZXJhY3Rpb24udHlwZSA9PT0gJ25hdmlnYXRlJykge1xuICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlKGBOYXZpZ2F0ZSB0bzogJHtpbnRlcmFjdGlvbi50YXJnZXR9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBmaW5kRWxlbWVudEF0Q3Vyc29yID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZmluZChlbCA9PiB7XG4gICAgICAgICAgICBpZiAoZWwudHlwZSA9PT0gJ2J1dHRvbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yLnggPj0gZWwueCAmJiBjdXJzb3IueCA8IGVsLnggKyBlbC53aWR0aCAmJlxuICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IueSA+PSBlbC55ICYmIGN1cnNvci55IDwgZWwueSArIGVsLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbC50eXBlID09PSAnaWNvbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3Vyc29yLnggPT09IGVsLnggJiYgY3Vyc29yLnkgPT09IGVsLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBkcmF3RWxlbWVudCA9IChlbGVtZW50KSA9PiB7XG4gICAgICAgIHNldENhbnZhcyhwcmV2ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NhbnZhcyA9IHByZXYubWFwKHJvdyA9PiBbLi4ucm93XSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT09ICdidXR0b24nKSB7XG4gICAgICAgICAgICAgICAgLy8g44Oc44K/44Oz44Gu5p6g44KS5o+P55S7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50LndpZHRoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQueSA+PSAwICYmIGVsZW1lbnQueSA8IENBTlZBU19IRUlHSFQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnggKyBpIDwgQ0FOVkFTX1dJRFRIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2FudmFzW2VsZW1lbnQueV1bZWxlbWVudC54ICsgaV0gPSAn4pSAJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC55ICsgZWxlbWVudC5oZWlnaHQgLSAxID49IDAgJiYgZWxlbWVudC55ICsgZWxlbWVudC5oZWlnaHQgLSAxIDwgQ0FOVkFTX0hFSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQueCArIGkgPCBDQU5WQVNfV0lEVEgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDYW52YXNbZWxlbWVudC55ICsgZWxlbWVudC5oZWlnaHQgLSAxXVtlbGVtZW50LnggKyBpXSA9ICfilIAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudC5oZWlnaHQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC55ICsgaSA+PSAwICYmIGVsZW1lbnQueSArIGkgPCBDQU5WQVNfSEVJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC54IDwgQ0FOVkFTX1dJRFRIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2FudmFzW2VsZW1lbnQueSArIGldW2VsZW1lbnQueF0gPSAn4pSCJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnggKyBlbGVtZW50LndpZHRoIC0gMSA8IENBTlZBU19XSURUSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NhbnZhc1tlbGVtZW50LnkgKyBpXVtlbGVtZW50LnggKyBlbGVtZW50LndpZHRoIC0gMV0gPSAn4pSCJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyDop5JcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC55ID49IDAgJiYgZWxlbWVudC55IDwgQ0FOVkFTX0hFSUdIVCAmJiBlbGVtZW50LnggPCBDQU5WQVNfV0lEVEgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FudmFzW2VsZW1lbnQueV1bZWxlbWVudC54XSA9ICfilIwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC55ID49IDAgJiYgZWxlbWVudC55IDwgQ0FOVkFTX0hFSUdIVCAmJiBlbGVtZW50LnggKyBlbGVtZW50LndpZHRoIC0gMSA8IENBTlZBU19XSURUSCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdDYW52YXNbZWxlbWVudC55XVtlbGVtZW50LnggKyBlbGVtZW50LndpZHRoIC0gMV0gPSAn4pSQJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQueSArIGVsZW1lbnQuaGVpZ2h0IC0gMSA+PSAwICYmIGVsZW1lbnQueSArIGVsZW1lbnQuaGVpZ2h0IC0gMSA8IENBTlZBU19IRUlHSFQgJiYgZWxlbWVudC54IDwgQ0FOVkFTX1dJRFRIKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NhbnZhc1tlbGVtZW50LnkgKyBlbGVtZW50LmhlaWdodCAtIDFdW2VsZW1lbnQueF0gPSAn4pSUJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQueSArIGVsZW1lbnQuaGVpZ2h0IC0gMSA+PSAwICYmIGVsZW1lbnQueSArIGVsZW1lbnQuaGVpZ2h0IC0gMSA8IENBTlZBU19IRUlHSFQgJiYgZWxlbWVudC54ICsgZWxlbWVudC53aWR0aCAtIDEgPCBDQU5WQVNfV0lEVEgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2FudmFzW2VsZW1lbnQueSArIGVsZW1lbnQuaGVpZ2h0IC0gMV1bZWxlbWVudC54ICsgZWxlbWVudC53aWR0aCAtIDFdID0gJ+KUmCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIOODhuOCreOCueODiFxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRZID0gZWxlbWVudC55ICsgTWF0aC5mbG9vcihlbGVtZW50LmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRYID0gZWxlbWVudC54ICsgTWF0aC5mbG9vcigoZWxlbWVudC53aWR0aCAtIGVsZW1lbnQudGV4dC5sZW5ndGgpIC8gMik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50LnRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRZID49IDAgJiYgdGV4dFkgPCBDQU5WQVNfSEVJR0hUICYmIHRleHRYICsgaSA8IENBTlZBU19XSURUSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2FudmFzW3RleHRZXVt0ZXh0WCArIGldID0gZWxlbWVudC50ZXh0W2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09ICdpY29uJykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnkgPj0gMCAmJiBlbGVtZW50LnkgPCBDQU5WQVNfSEVJR0hUICYmIGVsZW1lbnQueCA8IENBTlZBU19XSURUSCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdDYW52YXNbZWxlbWVudC55XVtlbGVtZW50LnhdID0gZWxlbWVudC5zeW1ib2w7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gbmV3Q2FudmFzO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8g6KaB57Sg44Gu5YaN5o+P55S7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8g44Kt44Oj44Oz44OQ44K544KS44Kv44Oq44Ki44GX44Gm5YWo6KaB57Sg44KS5YaN5o+P55S7XG4gICAgICAgIGNvbnN0IG5ld0NhbnZhcyA9IEFycmF5KENBTlZBU19IRUlHSFQpLmZpbGwobnVsbCkubWFwKCgpID0+IFxuICAgICAgICAgICAgQXJyYXkoQ0FOVkFTX1dJRFRIKS5maWxsKCcgJylcbiAgICAgICAgKTtcbiAgICAgICAgc2V0Q2FudmFzKG5ld0NhbnZhcyk7XG4gICAgICAgIFxuICAgICAgICAvLyDlhajopoHntKDjgpLlho3mj4/nlLtcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGRyYXdFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9LCBbZWxlbWVudHNdKTtcblxuICAgIC8vIOODoeODg+OCu+ODvOOCuOOCkjPnp5Llvozjgavjgq/jg6rjgqJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRNZXNzYWdlKCcnKTtcbiAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIH1cbiAgICB9LCBbbWVzc2FnZV0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPEJveCBmbGV4RGlyZWN0aW9uPVwiY29sdW1uXCI+XG4gICAgICAgICAgICA8Qm94IG1hcmdpbkJvdHRvbT17MX0+XG4gICAgICAgICAgICAgICAgPFRleHQ+XG4gICAgICAgICAgICAgICAgICAgIFdpcmVmcmFtZSBUb29sIC0gTW9kZToge3NpbXVsYXRpb25Nb2RlID8gJ1NJTVVMQVRJT04nIDogbW9kZX0gfCBcbiAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkRWxlbWVudCAmJiA8VGV4dD4gU2VsZWN0ZWQ6IHtzZWxlY3RlZEVsZW1lbnQudHlwZX0gKElEOiB7c2VsZWN0ZWRFbGVtZW50LmlkfSk8L1RleHQ+fVxuICAgICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPEJveCBtYXJnaW5Cb3R0b209ezF9PlxuICAgICAgICAgICAgICAgIDxUZXh0PlxuICAgICAgICAgICAgICAgICAgICBDb250cm9sczogQXJyb3dzIChtb3ZlKSwgU3BhY2UgKGRyYXcpLCBEL0IvSS9TL04gKG1vZGVzKSwgUCAoc2ltdWxhdGUpLCBDIChjbGVhciksIFEgKHF1aXQpXG4gICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgIHttb2RlID09PSAnaW50ZXJhY3QnICYmIHNlbGVjdGVkRWxlbWVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0PiB8IFByZXNzIDEgKG1lc3NhZ2UpIG9yIDIgKG5hdmlnYXRlKSB0byBhZGQgaW50ZXJhY3Rpb248L1RleHQ+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8Qm94IGJvcmRlclN0eWxlPVwic2luZ2xlXCIgd2lkdGg9e0NBTlZBU19XSURUSCArIDJ9IGhlaWdodD17Q0FOVkFTX0hFSUdIVCArIDJ9PlxuICAgICAgICAgICAgICAgIDxCb3ggZmxleERpcmVjdGlvbj1cImNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICB7Y2FudmFzLm1hcCgocm93LCB5KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94IGtleT17eX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyb3cubWFwKChjZWxsLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWRFbGVtZW50ICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoc2VsZWN0ZWRFbGVtZW50LnR5cGUgPT09ICdidXR0b24nICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA+PSBzZWxlY3RlZEVsZW1lbnQueCAmJiB4IDwgc2VsZWN0ZWRFbGVtZW50LnggKyBzZWxlY3RlZEVsZW1lbnQud2lkdGggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPj0gc2VsZWN0ZWRFbGVtZW50LnkgJiYgeSA8IHNlbGVjdGVkRWxlbWVudC55ICsgc2VsZWN0ZWRFbGVtZW50LmhlaWdodCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdGVkRWxlbWVudC50eXBlID09PSAnaWNvbicgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID09PSBzZWxlY3RlZEVsZW1lbnQueCAmJiB5ID09PSBzZWxlY3RlZEVsZW1lbnQueSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCA9PT0gY3Vyc29yLnggJiYgeSA9PT0gY3Vyc29yLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFRleHQga2V5PXt4fSBpbnZlcnNlPntjZWxsfTwvVGV4dD47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFRleHQga2V5PXt4fSBjb2xvcj1cImdyZWVuXCI+e2NlbGx9PC9UZXh0PjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPEJveCBtYXJnaW5Ub3A9ezF9PlxuICAgICAgICAgICAgICAgIDxUZXh0PkN1cnNvcjogKHtjdXJzb3IueH0sIHtjdXJzb3IueX0pIHwgRHJhd2luZzoge2RyYXdpbmcgPyAnT04nIDogJ09GRid9PC9UZXh0PlxuICAgICAgICAgICAgICAgIHttZXNzYWdlICYmIDxUZXh0IGNvbG9yPVwieWVsbG93XCI+IHwge21lc3NhZ2V9PC9UZXh0Pn1cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICA8L0JveD5cbiAgICApO1xufTtcblxuLy8g57Ch5piT55qE44Gq44OX44Ot44Oz44OX44OI5a6f6KOF77yI5a6f6Zqb44GuUmVhY3QgSW5r44Gn44Gv5Yil44Gu5pa55rOV44GM5b+F6KaB77yJXG5jb25zdCBwcm9tcHQgPSAobWVzc2FnZSkgPT4ge1xuICAgIC8vIOWun+mam+OBruWun+ijheOBp+OBr+OAgeWIpeOBrlVJ44Kz44Oz44Od44O844ON44Oz44OI44KE54q25oWL566h55CG44GM5b+F6KaBXG4gICAgcmV0dXJuICdleGFtcGxlJztcbn07XG5cbnJlbmRlcig8V2lyZWZyYW1lVG9vbCAvPik7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM5QixNQUFNO0VBQUVDLFFBQVE7RUFBRUM7QUFBVSxDQUFDLEdBQUdILEtBQUs7QUFDckMsTUFBTTtFQUFFSSxNQUFNO0VBQUVDLEdBQUc7RUFBRUMsSUFBSTtFQUFFQyxRQUFRO0VBQUVDO0FBQU8sQ0FBQyxHQUFHUCxPQUFPLENBQUMsS0FBSyxDQUFDO0FBRTlELE1BQU1RLFlBQVksR0FBRyxFQUFFO0FBQ3ZCLE1BQU1DLGFBQWEsR0FBRyxFQUFFO0FBRXhCLE1BQU1DLGFBQWEsR0FBR0EsQ0FBQSxLQUFNO0VBQ3hCLE1BQU07SUFBRUM7RUFBSyxDQUFDLEdBQUdKLE1BQU0sQ0FBQyxDQUFDO0VBRXpCLE1BQU0sQ0FBQ0ssTUFBTSxFQUFFQyxTQUFTLENBQUMsR0FBR1osUUFBUSxDQUFDO0lBQUVhLENBQUMsRUFBRSxDQUFDO0lBQUVDLENBQUMsRUFBRTtFQUFFLENBQUMsQ0FBQztFQUNwRCxNQUFNLENBQUNDLE1BQU0sRUFBRUMsU0FBUyxDQUFDLEdBQUdoQixRQUFRLENBQUMsTUFBTTtJQUN2QyxPQUFPaUIsS0FBSyxDQUFDVCxhQUFhLENBQUMsQ0FBQ1UsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDQyxHQUFHLENBQUMsTUFDdkNGLEtBQUssQ0FBQ1YsWUFBWSxDQUFDLENBQUNXLElBQUksQ0FBQyxHQUFHLENBQ2hDLENBQUM7RUFDTCxDQUFDLENBQUM7RUFDRixNQUFNLENBQUNFLElBQUksRUFBRUMsT0FBTyxDQUFDLEdBQUdyQixRQUFRLENBQUMsTUFBTSxDQUFD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","map":{"version":3,"names":["React","require","useState","useEffect","render","Box","Text","useInput","useApp","CANVAS_WIDTH","CANVAS_HEIGHT","WireframeTool","exit","cursor","setCursor","x","y","canvas","setCanvas","Array","fill","map","mode","setMode","selectedElement","setSelectedElement","elements","setElements","drawing","setDrawing","interactions","setInteractions","simulationMode","setSimulationMode","message","setMessage","input","key","escape","upArrow","prev","downArrow","leftArrow","rightArrow","newCanvas","row","return","button","type","width","height","text","id","Date","now","drawElement","icon","symbol","element","findElementAtCursor","action","prompt","target","interaction","find","el","i","textY","Math","floor","textX","length","forEach","timer","setTimeout","clearTimeout","createElement","flexDirection","marginBottom","borderStyle","cell","isSelected","inverse","color","join","marginTop"],"sourceRoot":"/Users/ringo/snippets/html/wireframe/","sources":["app.js"],"sourcesContent":["#!/usr/bin/env node\nconst React = require('react');\nconst { useState, useEffect } = React;\nconst { render, Box, Text, useInput, useApp } = require('ink');\n\nconst CANVAS_WIDTH = 80;\nconst CANVAS_HEIGHT = 24;\n\nconst WireframeTool = () => {\n    const { exit } = useApp();\n    \n    const [cursor, setCursor] = useState({ x: 0, y: 0 });\n    const [canvas, setCanvas] = useState(() => {\n        return Array(CANVAS_HEIGHT).fill(null).map(() => \n            Array(CANVAS_WIDTH).fill(' ')\n        );\n    });\n    const [mode, setMode] = useState('draw'); // draw, select, button, icon, interact\n    const [selectedElement, setSelectedElement] = useState(null);\n    const [elements, setElements] = useState([]);\n    const [drawing, setDrawing] = useState(false);\n    const [interactions, setInteractions] = useState({});\n    const [simulationMode, setSimulationMode] = useState(false);\n    const [message, setMessage] = useState('');\n\n    useInput((input, key) => {\n        if (input === 'q') {\n            exit();\n        }\n\n        if (key.escape) {\n            setMode('draw');\n            setSelectedElement(null);\n            setSimulationMode(false);\n        }\n\n        // モード切り替え\n        if (!simulationMode) {\n            if (input === 'd') setMode('draw');\n            if (input === 'b') setMode('button');\n            if (input === 'i') setMode('icon');\n            if (input === 's') setMode('select');\n            if (input === 'n') setMode('interact');\n            if (input === 'p') setSimulationMode(true);\n        }\n\n        // カーソル移動\n        if (key.upArrow && cursor.y > 0) {\n            setCursor(prev => ({ ...prev, y: prev.y - 1 }));\n        }\n        if (key.downArrow && cursor.y < CANVAS_HEIGHT - 1) {\n            setCursor(prev => ({ ...prev, y: prev.y + 1 }));\n        }\n        if (key.leftArrow && cursor.x > 0) {\n            setCursor(prev => ({ ...prev, x: prev.x - 1 }));\n        }\n        if (key.rightArrow && cursor.x < CANVAS_WIDTH - 1) {\n            setCursor(prev => ({ ...prev, x: prev.x + 1 }));\n        }\n\n        // 描画モード\n        if (mode === 'draw' && !simulationMode) {\n            if (input === ' ') {\n                setDrawing(prev => !prev);\n            }\n            if (drawing || input === '*') {\n                setCanvas(prev => {\n                    const newCanvas = prev.map(row => [...row]);\n                    newCanvas[cursor.y][cursor.x] = '*';\n                    return newCanvas;\n                });\n            }\n            if (input === 'c') {\n                // クリア\n                setCanvas(Array(CANVAS_HEIGHT).fill(null).map(() => \n                    Array(CANVAS_WIDTH).fill(' ')\n                ));\n                setElements([]);\n                setInteractions({});\n            }\n        }\n\n        // ボタン配置モード\n        if (mode === 'button' && key.return && !simulationMode) {\n            const button = {\n                type: 'button',\n                x: cursor.x,\n                y: cursor.y,\n                width: 10,\n                height: 3,\n                text: 'Button',\n                id: Date.now()\n            };\n            setElements(prev => [...prev, button]);\n            drawElement(button);\n        }\n\n        // アイコン配置モード\n        if (mode === 'icon' && key.return && !simulationMode) {\n            const icon = {\n                type: 'icon',\n                x: cursor.x,\n                y: cursor.y,\n                symbol: '◆',\n                id: Date.now()\n            };\n            setElements(prev => [...prev, icon]);\n            drawElement(icon);\n        }\n\n        // 選択モード\n        if (mode === 'select' && !simulationMode) {\n            const element = findElementAtCursor();\n            if (key.return && element) {\n                setSelectedElement(element);\n            }\n        }\n\n        // インタラクション定義モード\n        if (mode === 'interact' && selectedElement && !simulationMode) {\n            if (input === '1') {\n                // クリック時のメッセージ\n                const action = prompt('Enter message for click action:') || 'Clicked!';\n                setInteractions(prev => ({\n                    ...prev,\n                    [selectedElement.id]: { type: 'message', action }\n                }));\n                setMessage(`Interaction added to ${selectedElement.type}`);\n            }\n            if (input === '2') {\n                // ページ遷移\n                const target = prompt('Enter target page:') || 'page2';\n                setInteractions(prev => ({\n                    ...prev,\n                    [selectedElement.id]: { type: 'navigate', target }\n                }));\n                setMessage(`Navigation added to ${selectedElement.type}`);\n            }\n        }\n\n        // シミュレーションモード\n        if (simulationMode) {\n            const element = findElementAtCursor();\n            if (key.return && element && interactions[element.id]) {\n                const interaction = interactions[element.id];\n                if (interaction.type === 'message') {\n                    setMessage(`Action: ${interaction.action}`);\n                } else if (interaction.type === 'navigate') {\n                    setMessage(`Navigate to: ${interaction.target}`);\n                }\n            }\n        }\n    });\n\n    const findElementAtCursor = () => {\n        return elements.find(el => {\n            if (el.type === 'button') {\n                return cursor.x >= el.x && cursor.x < el.x + el.width &&\n                       cursor.y >= el.y && cursor.y < el.y + el.height;\n            }\n            if (el.type === 'icon') {\n                return cursor.x === el.x && cursor.y === el.y;\n            }\n            return false;\n        });\n    };\n\n    const drawElement = (element) => {\n        setCanvas(prev => {\n            const newCanvas = prev.map(row => [...row]);\n            \n            if (element.type === 'button') {\n                // ボタンの枠を描画\n                for (let i = 0; i < element.width; i++) {\n                    if (element.y >= 0 && element.y < CANVAS_HEIGHT) {\n                        if (element.x + i < CANVAS_WIDTH) {\n                            newCanvas[element.y][element.x + i] = '─';\n                        }\n                    }\n                    if (element.y + element.height - 1 >= 0 && element.y + element.height - 1 < CANVAS_HEIGHT) {\n                        if (element.x + i < CANVAS_WIDTH) {\n                            newCanvas[element.y + element.height - 1][element.x + i] = '─';\n                        }\n                    }\n                }\n                for (let i = 0; i < element.height; i++) {\n                    if (element.y + i >= 0 && element.y + i < CANVAS_HEIGHT) {\n                        if (element.x < CANVAS_WIDTH) {\n                            newCanvas[element.y + i][element.x] = '│';\n                        }\n                        if (element.x + element.width - 1 < CANVAS_WIDTH) {\n                            newCanvas[element.y + i][element.x + element.width - 1] = '│';\n                        }\n                    }\n                }\n                // 角\n                if (element.y >= 0 && element.y < CANVAS_HEIGHT && element.x < CANVAS_WIDTH) {\n                    newCanvas[element.y][element.x] = '┌';\n                }\n                if (element.y >= 0 && element.y < CANVAS_HEIGHT && element.x + element.width - 1 < CANVAS_WIDTH) {\n                    newCanvas[element.y][element.x + element.width - 1] = '┐';\n                }\n                if (element.y + element.height - 1 >= 0 && element.y + element.height - 1 < CANVAS_HEIGHT && element.x < CANVAS_WIDTH) {\n                    newCanvas[element.y + element.height - 1][element.x] = '└';\n                }\n                if (element.y + element.height - 1 >= 0 && element.y + element.height - 1 < CANVAS_HEIGHT && element.x + element.width - 1 < CANVAS_WIDTH) {\n                    newCanvas[element.y + element.height - 1][element.x + element.width - 1] = '┘';\n                }\n                // テキスト\n                const textY = element.y + Math.floor(element.height / 2);\n                const textX = element.x + Math.floor((element.width - element.text.length) / 2);\n                for (let i = 0; i < element.text.length; i++) {\n                    if (textY >= 0 && textY < CANVAS_HEIGHT && textX + i < CANVAS_WIDTH) {\n                        newCanvas[textY][textX + i] = element.text[i];\n                    }\n                }\n            } else if (element.type === 'icon') {\n                if (element.y >= 0 && element.y < CANVAS_HEIGHT && element.x < CANVAS_WIDTH) {\n                    newCanvas[element.y][element.x] = element.symbol;\n                }\n            }\n            \n            return newCanvas;\n        });\n    };\n\n    // 要素の再描画\n    useEffect(() => {\n        // キャンバスをクリアして全要素を再描画\n        const newCanvas = Array(CANVAS_HEIGHT).fill(null).map(() => \n            Array(CANVAS_WIDTH).fill(' ')\n        );\n        setCanvas(newCanvas);\n        \n        // 全要素を再描画\n        elements.forEach(element => {\n            drawElement(element);\n        });\n    }, [elements]);\n\n    // メッセージを3秒後にクリア\n    useEffect(() => {\n        if (message) {\n            const timer = setTimeout(() => {\n                setMessage('');\n            }, 3000);\n            return () => clearTimeout(timer);\n        }\n    }, [message]);\n\n    return (\n        <Box flexDirection=\"column\">\n            <Box marginBottom={1}>\n                <Text>\n                    Wireframe Tool - Mode: {simulationMode ? 'SIMULATION' : mode} | \n                    {selectedElement && <Text> Selected: {selectedElement.type} (ID: {selectedElement.id})</Text>}\n                </Text>\n            </Box>\n            <Box marginBottom={1}>\n                <Text>\n                    Controls: Arrows (move), Space (draw), D/B/I/S/N (modes), P (simulate), C (clear), Q (quit)\n                </Text>\n                {mode === 'interact' && selectedElement && (\n                    <Text> | Press 1 (message) or 2 (navigate) to add interaction</Text>\n                )}\n            </Box>\n            \n            <Box borderStyle=\"single\" width={CANVAS_WIDTH + 2} height={CANVAS_HEIGHT + 2}>\n                <Box flexDirection=\"column\">\n                    {canvas.map((row, y) => (\n                        <Box key={y}>\n                            <Text>\n                                {row.map((cell, x) => {\n                                    const isSelected = selectedElement && \n                                        ((selectedElement.type === 'button' && \n                                          x >= selectedElement.x && x < selectedElement.x + selectedElement.width &&\n                                          y >= selectedElement.y && y < selectedElement.y + selectedElement.height) ||\n                                         (selectedElement.type === 'icon' && \n                                          x === selectedElement.x && y === selectedElement.y));\n                                    \n                                    if (x === cursor.x && y === cursor.y) {\n                                        return <Text key={x} inverse>{cell}</Text>;\n                                    } else if (isSelected) {\n                                        return <Text key={x} color=\"green\">{cell}</Text>;\n                                    }\n                                    return cell;\n                                }).join('')}\n                            </Text>\n                        </Box>\n                    ))}\n                </Box>\n            </Box>\n            \n            <Box marginTop={1}>\n                <Text>Cursor: ({cursor.x}, {cursor.y}) | Drawing: {drawing ? 'ON' : 'OFF'}</Text>\n                {message && <Text color=\"yellow\"> | {message}</Text>}\n            </Box>\n        </Box>\n    );\n};\n\n// 簡易的なプロンプト実装（実際のReact Inkでは別の方法が必要）\nconst prompt = (message) => {\n    // 実際の実装では、別のUIコンポーネントや状態管理が必要\n    return 'example';\n};\n\nrender(<WireframeTool />);"],"mappings":"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","ignoreList":[]}},"mtime":1752416591375}}