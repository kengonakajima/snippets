<html>


2000回ファイルを開いて1行書いて閉じてそのファイルを消すを繰り返した
結果。
<br>

murasaki<br><br>
murasakiでやると、常にロードが1程度になっている。HDのランプは付いてない。
他のプロセスは害を受けていない。skkの変換が少し遅いか。
<br>
110sec.


<br><br>
次に、ファイルに書きこんだ後にsyncをかけたらどうか。HDのランプは激しく
光っている。ロードも1をだいぶん越えている。2も越えた。1秒に3回から
4回しかできないようだ。2000/3.5で、500秒はかかるだろう。
途中でやめる。
<br><br>

次に、ファイルに書きこんだ後と消した後にsyncをかけたらどうか。もっと最
悪の遅さになることが予想される。が、同じような重さだった。
<br><br>


さらに、アペンドで1行づつ書いたらどうなるか。
最初に1回だけファイルを開き、20000回、連続で2行づつ10バイト程度書きこ
むとどうなるか。<br>

1sec.
<br><br>
次に、書きこむごとにsyncしたらどうなるか
だいぶん時間がかかっているようだ。しかし、HDのランプがずっとついている
ということはない。いつまでも終わってくれそうにないので、遅いということ
だ。

<br><br>

書きこむごとにファイルを閉じて、また開けて、を繰りかえすとどうか。
20000回で、<br>
13秒だった。
このへんが妥当な線か。データベースサーバーは、時間を見て、適当にsync
をかけていく。また、トラブルが発生したり、シグナルが飛んできたりしたら、
即座にsyncをかける。

<br>
