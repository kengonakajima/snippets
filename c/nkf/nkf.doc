
NAME
	nkf - ネットワーク用漢字コード変換フィルタ

SYNOPSIS
	nkf [options] [file]

DESCRIPTION

　nkfは，ネットワークでメールやニュースの読み書きをするために作られた，
漢字コードの変換フィルタである．

　このnkfの特徴としては，入力漢字コード系の統計的な自動認識機能がある．
このため，利用者は，入力漢字コード系が何であるかを，知らなくても，出力漢
字コード系のみ指定すれば良いことになる．ただ，この判定機構は，理論的には
完全ではないが，通常のニュースやメールのメッセージについては確実に動作す
る安全なものにはなっている。

　現在，nkfが認識できる入力の漢字コード系は，７ビットJIS，シフトJIS，EUC
のいずれかである．出力する漢字コード系も，この３種類である．

　入力は，ファイルを指定しなければ，標準入力となる．出力は標準出力である．

　指定できるオプションは，以下の通り．

	-b	バッファリング出力を行う．(デフォルト)
	-u	出力時に，バッファリングしない．

	-t	なにもしない．

	-j
	-n	７ビットJISコードを出力する．（デフォルト）

	-s
	-x	シフトJISコードを出力する．

	-e
	-a	EUC（AT&Tコード）を出力する．

	-i？	(７ビットJISの)出力の漢字インとして，ESC-'$'-？を使用する．
		（デフォルトは，ESC-'$'-'B'）

	-o？	(７ビットJISの)出力の漢字アウトとして，ESC-'('-？を使用する．
		（デフォルトは，ESC-'('-'B'）

	-@J
	-J	-i@ -oJと同じ．

	-@H
	-H	-i@ -oHと同じ．

	-BJ	-iB -oJと同じ．

	-BB	-iB -oBと同じ．

AUTHOR
　市川　至	ichikawa@flab.fujitsu.co.jp

ACKNOWLEDGE
	morb@fujitsu, kiss@ayumi.stars.flab.fujitsu, cen122@flab.fujitsu,
	yuki@flab.fujitsu  他，fujitsu & flab.fujitsuの皆さんの協力に感謝．
	shinoda@cs.titech, kato@cs.titech, uematsu@cs.titech　TNX

BUGS
　実は，入力のコード系の判定は，EUCとシフトJISとの自動判定であり，最初に
特定できる文字が来た時点で確定してしまう．そして，特定不能の間は保留バッ
ファにためておかれ，確定後に処理される．このため；

	1)nkfは，入力中に，複数の漢字コード系のコードが混在した場合，
	その入力を正しく変換できない．

	2)いわゆる半角カナが入力にあった場合については，その動作を保証
	できない．(^O,^Nは保存しますが...)

	3)判定不能な文字（第二水準）と英数文字だけからなる入力は判定
	できない．（保留バッファが満杯になるか，入力が終了すると，
	どっちかにテケトーに判断して変換してしまう）

	4)ちょっと，のろい．

　また，入力および出力の漢字イン／アウトには，大胆な仮定をしている．例え
ば，入力にESC-'$'と来たら，次が何であろうが，（文字セットや他国語を無視
して）漢字を指定しているシーケンスとしてしまっている．（ESC-'('の場合も
同様）そして，出力の．シーケンスについては，オプションで指定したもので行
う．このため，文字セットの切り換え（例えば，ASCIIとJIS）については保存さ
れない．

　このフィルタの変換は，コード系に対応した一括写像を施すだけなので，外字
や特殊記号や罫線素片など，JIS第一，第二水準表において定義されていないコ
ードに各社により割り当てられた文字がどうなるかまでは関知しない．そして，
第二水準がないとかあるとかによる問題は，このフィルタの範囲外と思える．そ
れらは，書き手の責任でなんとかしてもらいたい．

　いずれにせよ，通常のニュースの記事については問題はなく変換できるはずで
ある．（と思うのだが，今ひとつ自信はない）
