
必要なのは確実な通信で、ストリームでもコネクションでもない。
「不定長な長さのパケットが正しい順番で確実に届く」
さえ実現できればよい。






ACKを受けすぎても大丈夫なようにする。  OK
DATA,OPEN,CLOSEを受けすぎても大丈夫なようにする。 OK
すなわち、
rp_acceptable OK

rp_isclosed OK




全部よみこんでからcloseするようにしよう。 OK

性能がわるすぎる。TCPと比較しろ。 

perlfunc

TCP 3614 msec
UDP 7279 msec
RP 72401 msec


QSIZEを上げると性能は比例してよくなるが、64を越えると
凍りやすくなる。OSのUDPサブシステムの影響ありのはず。
調査せよ。

MTUまで圧縮して送信する機能を付加せよ。 OK

rp_recvするときにMTU以下のバッファを指定したときに、
バッファの残りが捨てられないようにせよ。



MTU以上のものをsendできない制限をなくせ。
